---
title: "POINTER"
date: 2025-07-24 19:44:00 +0800
categories: [C]
tags: [C]
---

# ğŸ’¡ HÆ°á»›ng dáº«n vá» con trá» trong c

TÃ i liá»‡u nÃ y cung cáº¥p kiáº¿n thá»©c cÆ¡ báº£n, vÃ­ dá»¥ thá»±c táº¿ vÃ  giáº£i thÃ­ch vá» **con trá»** trong láº­p trÃ¬nh c.


## ğŸ§  Tá»•ng quan

con trá» lÃ  má»™t biáº¿n trong c dÃ¹ng Ä‘á»ƒ **lÆ°u trá»¯ Ä‘á»‹a chá»‰ cá»§a má»™t biáº¿n khÃ¡c**. Viá»‡c sá»­ dá»¥ng con trá» giÃºp tÄƒng tÃ­nh linh hoáº¡t vÃ  hiá»‡u suáº¥t cá»§a chÆ°Æ¡ng trÃ¬nh, Ä‘áº·c biá»‡t khi lÃ m viá»‡c vá»›i máº£ng, cáº¥p phÃ¡t bá»™ nhá»› Ä‘á»™ng, vÃ  khi cáº§n truyá»n tham chiáº¿u tá»›i cÃ¡c hÃ m. 
NhÆ°ng biáº¿n con trá» khÃ´ng lÆ°u giÃ¡ trá»‹ bÃ¬nh thÆ°á»ng, nÃ³ lÃ  biáº¿n trá» tá»›i 1 Ä‘á»‹a chá»‰ khÃ¡c, tá»©c mang giÃ¡ trá»‹ lÃ  1 Ä‘á»‹a chá»‰ trong RAM.

---

## ğŸ·ï¸ KhÃ¡i niá»‡m cÆ¡ báº£n vá» con trá»

- **con trá»** lÃ  má»™t biáº¿n chá»©a Ä‘á»‹a chá»‰ cá»§a má»™t biáº¿n khÃ¡c.
- con trá» cÃ³ thá»ƒ trá» Ä‘áº¿n báº¥t ká»³ loáº¡i dá»¯ liá»‡u nÃ o, cháº³ng háº¡n nhÆ° kiá»ƒu nguyÃªn thá»§y (`int`, `float`, ...) hoáº·c kiá»ƒu cáº¥u trÃºc (`struct`).
- Äá»ƒ khai bÃ¡o con trá», chÃºng ta sá»­ dá»¥ng dáº¥u `*`.

---

## âš™ï¸ Khai bÃ¡o vÃ  sá»­ dá»¥ng con trá»

### cÃ¡ch khai bÃ¡o con trá»:

**kiá»ƒu dá»¯ liá»‡u** * **tÃªn biáº¿n**

Trong Ä‘Ã³:

- **Kiá»ƒu dá»¯ liá»‡u** cÃ³ thá»ƒ lÃ : void, char, int, float, double,...
- Dáº¥u * trÆ°á»›c **tÃªn biáº¿n** lÃ  kÃ½ hiá»‡u bÃ¡o cho trÃ¬nh biÃªn dá»‹ch biáº¿t ta Ä‘ang khai bÃ¡o con trá».

**VÃ­ dá»¥ 1:**
```c
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

int main()
{
    int x = 77;
    int *pt = &x;
    printf("Gia tri cua x = %d \n", *pt);
    printf("Dia chi cua x la %x hoac %x \n", &x, pt);
    printf("Dia chi cua con tro pt la %0x \n", &pt);
    return 0;
}
```
**VÃ­ dá»¥ 1:**
```c
#include <stdio.h>

int main() {
    int x = 1000;
    int *pt;        
    pt = &x;

    // In ra Ä‘á»‹a chá»‰ cá»§a con trá» pt
    printf("&pt = %p \n", (void*)&pt);  // &pt: Äá»‹a chá»‰ cá»§a con trá» pt

    // In ra Ä‘á»‹a chá»‰ mÃ  con trá» pt trá» Ä‘áº¿n (Ä‘á»‹a chá»‰ cá»§a x)
    printf("pt = %p \n", (void*)pt);    // pt: Äá»‹a chá»‰ mÃ  pt trá» Ä‘áº¿n (Ä‘á»‹a chá»‰ cá»§a x)

    // In ra giÃ¡ trá»‹ táº¡i Ä‘á»‹a chá»‰ mÃ  con trá» pt trá» Ä‘áº¿n (giÃ¡ trá»‹ cá»§a x)
    printf("*pt = %d \n", *pt);        // *pt: GiÃ¡ trá»‹ táº¡i Ä‘á»‹a chá»‰ mÃ  pt trá» Ä‘áº¿n (giÃ¡ trá»‹ cá»§a x)

    return 0;
}
```
- **&pt**: Ä‘á»‹a chá»‰ cá»§a con trá» trÃªn RAM
- **pt**: Ä‘á»‹a chá»‰ con trá» trá» Ä‘áº¿n trÃªn RAM.
- **pt**: giÃ¡ trá»‹ táº¡i vÃ¹ng Ä‘á»‹a chá»‰ con trá» trá» Ä‘áº¿n trÃªn RAM
---

## â• ToÃ¡n tá»­ TÄƒng Giáº£m con trá»

Giá»‘ng nhÆ° má»™t biáº¿n thÃ´ng thÆ°á»ng, con trá» cÅ©ng cÃ³ toÃ¡n tá»­ tÄƒng giáº£m, tuy nhiÃªn khi sá»­ dá»¥ng toÃ¡n tá»­ tÄƒng/giáº£m trÃªn biáº¿n con trá», nÃ³ sáº½ nháº£y sang pháº§n tá»­ liá»n ká» chá»© khÃ´ng pháº£i tÄƒng/giáº£m giÃ¡ trá»‹ lÃªn 1 Ä‘Æ¡n vá»‹.

![alt text](/assets/C/pointer2.png)

## ğŸ§‘â€ğŸ’» con trá» vÃ  máº£ng
con trá» vÃ  máº£ng cÃ³ má»™t má»‘i quan há»‡ cháº·t cháº½ trong c. Khi khai bÃ¡o máº£ng, tÃªn máº£ng chÃ­nh lÃ  Ä‘á»‹a chá»‰ cá»§a pháº§n tá»­ Ä‘áº§u tiÃªn trong máº£ng.
![alt text](/assets/C/pointer1.png)

## ğŸ§© con trá» tá»›i hÃ m

**Truyá»n Ä‘á»‹a chá»‰ biáº¿n**
Khi chÃºng ta truyá»n vÃ o tham trá»‹ (truyá»n vÃ o giÃ¡ trá»‹ biáº¿n) chá»© khÃ´ng pháº£i truyá»n vÃ o tham chiáº¿u (truyá»n vÃ o Ä‘á»‹a chá»‰ biáº¿n) thÃ¬ máº·c dÃ¹ trong hÃ m Ä‘Ã£ thay Ä‘á»•i giÃ¡ trá»‹ cÃ¡c biáº¿n nhÆ°ng sau khi káº¿t thÃºc hÃ m giÃ¡ trá»‹ biáº¿n váº«n chÆ°a thá»ƒ thay Ä‘á»•i Ä‘Æ°á»£c. VÃ  chÃºng ta sáº½ pháº£i sá»­a láº¡i báº±ng cÃ¡ch truyá»n vÃ o tham chiáº¿u chÃ­nh lÃ  Ä‘á»‹a chá»‰ cá»§a biáº¿n thÃ´ng qua con trá».

```c
#include <stdio.h>

void hoanVi_thamchie(int *a, int *b)
{
    int temp = *a;
    *a = *b;
    *b = temp;
}

void hoanVi_thamtri(int a, int b)
{
    int temp = a;
    a = b;
    b = temp;
}

int main()
{
    int a = 10, b = 1000;
    printf("Truoc khi goi ham hoan vi: a = %d, b = %d \n", a, b);
    hoanVi_thamtri(a, b);
    printf("Sau khi goi ham hoan vi: a = %d, b = %d \n", a, b);
    hoanVi_thamchie(&a, &b);
    printf("Sau khi goi ham hoan vi: a = %d, b = %d \n", a, b);
    return 0;
}
```
**Truyá»n Ä‘á»‹a chá»‰ cá»§a máº£ng**
chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng con trá» Ä‘á»ƒ thay Ä‘á»•i giÃ¡ trá»‹ cÃ¡c pháº§n tá»­ máº£ng. Äá»‹a chá»‰ cá»§a máº£ng cÅ©ng chÃ­nh lÃ  Ä‘á»‹a chá»‰ pháº§n tá»­ Ä‘áº§u tiÃªn cá»§a máº£ng.

**VÃ­ dá»¥:**
```c
#include <stdio.h>
#include <string.h>

int mang[100] = {0};

void NhapMang(int *pt, int *n)
{
    printf("Nhap vao so phan tu mang: ");
    scanf("%d", n);
    printf("Nhap Mang\n");
    for (int i = 0; i < *n; i++)
    {
        printf("mang[%d] = ", i); // gÃ¡n giÃ¡ trá»‹ cho pháº§n tá»­ máº£ng thÃ´ng qua con trá»
        scanf("%d", pt); // trá» con trá» pt Ä‘áº¿n pháº§n tá»­ máº£ng tiáº¿p theo
        pt = pt + 1;
    }
}

void InMang(int *pt, int n)
{
    printf("In Mang\n");
    for (int i = 0; i < n; i++)
    {
        printf("mang[%d] = %d\n", i, *pt);
        pt = pt + 1;
    }
}

int main()
{
    int phan_tu_mang;
    NhapMang(mang, &phan_tu_mang);
    InMang(mang, phan_tu_mang);
}
```

**HÃ m tráº£ vá» con trá»**
TÆ°Æ¡ng tá»± nhÆ° trong c++, thÃ¬ trong c cÅ©ng cho phÃ©p hÃ m tráº£ vá» má»™t con trá».

**cÃº phÃ¡p**
```c
kieudulieu_tra_ve *ten_ham()
{
    // user code
}
```

**VÃ­ dá»¥:**

```c
#include <stdio.h>

int *timSoLonNhat(int x, int y)
{
    if (x > y)
    {
        return &x; // tráº£ vá» 1 Ä‘á»‹a chá»‰
    }
    else
    {
        return &y; // tráº£ vá» 1 Ä‘á»‹a chá»‰
    }
}

int main()
{
    int *result;
    int a = 11;
    int b = 15;
    result = timSoLonNhat(a, b); // truyá»n vÃ o giÃ¡ trá»‹ cá»§a a vÃ  b
    printf("So lon nhat = %d \n", *result);
    return 0;
}
```

**Káº¿t quáº£:**
Segmentation fault (core dumped)

## âš ï¸ LÆ°u Ã½ khi sá»­ dá»¥ng con trá»
- KhÃ´ng truy cáº­p bá»™ nhá»› khÃ´ng há»£p lá»‡: Truy cáº­p con trá» khÃ´ng Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹ hoáº·c trá» Ä‘áº¿n bá»™ nhá»› khÃ´ng há»£p lá»‡ sáº½ gÃ¢y lá»—i.
- Giáº£i phÃ³ng bá»™ nhá»›: Náº¿u báº¡n sá»­ dá»¥ng con trá» Ä‘á»ƒ cáº¥p phÃ¡t bá»™ nhá»› Ä‘á»™ng (vÃ­ dá»¥ vá»›i malloc()), hÃ£y nhá»› giáº£i phÃ³ng bá»™ nhá»› báº±ng free() khi khÃ´ng sá»­ dá»¥ng ná»¯a.
- TrÃ¡nh sá»­ dá»¥ng con trá» null: TrÆ°á»›c khi dereference má»™t con trá», luÃ´n kiá»ƒm tra xem nÃ³ cÃ³ pháº£i lÃ  null khÃ´ng.