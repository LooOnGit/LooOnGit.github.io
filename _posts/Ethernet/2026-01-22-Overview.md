---
title: "Overview"
date: 2026-01-22 05:38:00 +0700
categories: [Ethernet]
tags: [Ethernet][STM32][Networking]
---

# Overview Ethernet

## Táº¡i sao láº¡i sá»­ dá»¥ng Ethernet?
- PhÆ°Æ¡ng thá»©c truyá»n thÃ´ng á»•n Ä‘á»‹nh vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i nháº¥t
- Ethernet mang láº¡i cho cÃ¡c dá»± Ã¡n káº¿t ná»™i máº¡ng cá»¥c bá»™ hoáº·c Internet á»•n Ä‘á»‹nh vÃ  tá»‘c Ä‘á»™ cao.
- Ethernet há»— trá»£ tá»‘c Ä‘á»™ truyá»n dá»¯ liá»‡u vÃ  khoáº£ng cÃ¡ch truyá»n xa hÆ¡n.
- Lá»±a chá»n trong cÃ¡c á»©ng dá»¥ng dá»¯ liá»‡u lá»›n theo thá»i gian thá»±c, káº¿t ná»‘i vá»›i server hoáº·c broker, há»• trá»£ nhÆ° má»™t web server hoáº·c cung cáº¥p REST API, Ä‘Ã¡ng tin cáº­y trong mÃ´i trÆ°á»ng cÃ´ng nghiá»‡p.

## Giá»›i thiá»‡u vá» MAC vÃ  PHY trong Ethernet
MAC náº±m bÃªn trong vi Ä‘iá»u khiá»ƒn STM32. NÃ³ Ä‘áº£m nhiá»‡m cÃ¡c chá»©c nÄƒng cá»§a táº§ng liÃªn káº¿t dá»¯ liá»‡u (Data Link Layer) nhÆ° Ä‘Ã³ng gÃ³i khung dá»¯ liá»‡u (framing), Ä‘á»‹nh Ä‘á»‹a chá»‰ (addressing) vÃ  quáº£n lÃ½ cÃ¡c gÃ³i Ethernet.
- **MAC (Media Access Controller)**: MAC náº±m bÃªn trong vi Ä‘iá»u khiá»ƒn STM32. NÃ³ Ä‘áº£m nhiá»‡m cÃ¡c chá»©c nÄƒng cá»§a táº§ng liÃªn káº¿t dá»¯ liá»‡u (Data Link Layer) nhÆ° Ä‘Ã³ng gÃ³i khung dá»¯ liá»‡u (framing), Ä‘á»‹nh Ä‘á»‹a chá»‰ (addressing) vÃ  quáº£n lÃ½ cÃ¡c gÃ³i Ethernet.
- **PHY (Physical Layer)**: PHY thÆ°á»ng lÃ  má»™t chip bÃªn ngoÃ i Ä‘Æ°á»£c káº¿t ná»‘i vá»›i STM32 thÃ´ng qua giao tiáº¿p RMII hoáº·c MII. PHY chá»‹u trÃ¡ch nhiá»‡m vá» tÃ­n hiá»‡u Ä‘iá»‡n, phÃ¡t hiá»‡n tráº¡ng thÃ¡i káº¿t ná»‘i (link detection) vÃ  thÆ°Æ¡ng lÆ°á»£ng tá»‘c Ä‘á»™ (speed negotiation) vá»›i cÃ¡p Ethernet.


MAC vÃ  PHY káº¿t há»£p vá»›i nhau táº¡o thÃ nh giao diá»‡n Ethernet hoÃ n chá»‰nh. STM32 sáº½ cáº¥u hÃ¬nh MAC, cÃ²n PHY Ä‘áº£m báº£o káº¿t ná»‘i váº­t lÃ½ vá»›i máº¡ng. Viá»‡c thiáº¿t láº­p Ä‘Ãºng Ä‘á»‹a chá»‰ PHY vÃ  cÃ¡c chÃ¢n (pins) trong CubeMX lÃ  yáº¿u tá»‘ ráº¥t quan trá»ng Ä‘á»ƒ Ethernet cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.

## CÃ³ nhiá»u nhiá»u loáº¡i network
- **LAN - Local Area Network**: ÄÃ¢y lÃ  loáº¡i máº¡ng phá»• biáº¿n nháº¥t. Máº¡ng nÃ y cÃ³ bÄƒng thÃ´ng cao vá»›i chi phÃ­ tÆ°Æ¡ng Ä‘á»‘i tháº¥p. Máº¡ng LAN thÆ°á»ng dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i cÃ¡c mÃ¡y tÃ­nh á»Ÿ gáº§n nhau.
- **WAN - Wide Area Network**: WAN káº¿t ná»‘i nhiá»u Ä‘á»‹a Ä‘iá»ƒm vá»›i nhau trÃªn khoáº£ng cÃ¡ch báº¥t ká»³, vÃ  táº¡i má»—i Ä‘á»‹a Ä‘iá»ƒm cÃ³ thá»ƒ cÃ³ nhiá»u mÃ¡y tÃ­nh.
- **VPN - Virtual Private Network**: VPN Ä‘Æ°á»£c táº¡o ra trÃªn public network. ChÃºng sá»­ dá»¥ng Ä‘Æ°á»£c mÃ£ hÃ³a vÃ  sá»­ dá»¥ng máº¡nh máº½ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng máº¡nh. Vá» báº£n cháº¥t, VPN lÃ  má»™t máº¡ng riÃªng tÆ° vÃ  an toÃ n thÃ´ng qua má»™t máº¡ng cÃ´ng cá»™ng.
### Thuáº­t ngá»¯ phá»• biáº¿n (Common term)
- **IP Address**: LÃ  mÃ£ Ä‘á»‹nh danh duy nháº¥t cá»§a má»™t thiáº¿t bá»‹ trong máº¡ng. 


**VÃ­ dá»¥**: Giá»‘ng nhÆ° sá»‘ nhÃ  cá»§a má»—i thiáº¿t bá»‹ trong máº¡ng.
- **Äiá»‡n thoáº¡i**: 192.168.1.10
- **Laptop**: 192.168.1.11
- **ESP32**: 192.168.1.20
ğŸ‘‰ Nhá» IP address, cÃ¡c thiáº¿t bá»‹ biáº¿t gá»­i dá»¯ liá»‡u cho ai.


- **Router**: LÃ  má»™t thiáº¿t bá»‹ váº­t lÃ½ hoáº·c áº£o dÃ¹ng Ä‘á»ƒ gá»­i thÃ´ng tin Ä‘Æ°á»£c chá»©a trong cÃ¡c gÃ³i dá»¯ liá»‡u giá»¯a cÃ¡c máº¡ng. Router cÃ³ nhiá»‡m vá»¥ Ä‘iá»u hÆ°á»›ng (Ä‘á»‹nh tuyáº¿n) lÆ°u lÆ°á»£ng trong máº¡ng.


**VÃ­ dá»¥**: Giá»‘ng nhÆ° ngÆ°á»i Ä‘iá»u phá»‘i giao thÃ´ng.
- Router Wi-Fi á»Ÿ nhÃ  báº¡n
-NÃ³:
1. Cáº¥p IP cho thiáº¿t bá»‹
2. Nháº­n dá»¯ liá»‡u tá»« LAN
3. Gá»­i ra Internet vÃ  ngÆ°á»£c láº¡i
**ğŸ“Œ VÃ­ dá»¥**:
- Laptop gá»­i request Google
- Router nháº­n â†’ chuyá»ƒn ra Internet â†’ nháº­n pháº£n há»“i â†’ gá»­i láº¡i laptop

- **Gateway**: Gateway thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng Ä‘á»‹nh tuyáº¿n. Router káº¿t ná»‘i máº¡ng ná»™i bá»™ ra Internet Ä‘Æ°á»£c gá»i lÃ  default gateway (cá»•ng máº·c Ä‘á»‹nh).


**VÃ­ dá»¥**:
- ESP32 muá»‘n gá»­i data lÃªn cloud
- ESP32 khÃ´ng biáº¿t Internet á»Ÿ Ä‘Ã¢u
- NÃ³ gá»­i táº¥t cáº£ gÃ³i tin ra ngoÃ i máº¡ng cho gateway = 192.168.1.1
- Gateway xá»­ lÃ½ tiáº¿p


- **Packet**: Ä‘á»™ dÃ i byte string cÃ³ thá»ƒ tá»« vÃ i byte Ä‘áº¿n vÃ i KB. NÃ³ nhÆ° lÃ  má»™t Ä‘Æ¡n vá»‹ duy nháº¥t giá»¯a cÃ¡c thiáº¿t bá»‹ máº¡ng.


