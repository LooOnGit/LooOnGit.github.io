---
title: "TASK"
date: 2025-08-19 21:59:01 +0800
categories: [RTOS]
tags: [RTOS]
---

# ğŸ° Task Operations trong RTOS

## ğŸ¼ Tá»•ng quan 

- Chia 1 project thÃ nh nhiá»u task.
- Thá»i gian chuyá»ƒn tráº¡ng thÃ¡i ráº¥t nhá» => cÃ¡c task cháº¡y cÃ¹ng lÃºc.
- Thá»±c táº¿ láº¡i 1 thá»i Ä‘iá»ƒm chá»‰ cÃ³ 1 task Running (Ä‘á»‘i vá»›i 1 core).


## ğŸ£ Táº¡o task
```c
BaseType_t xTaskCreate(
    TaskFunction_t pvTaskCode,
    const char * const pcName,
    configSTACK_DEPTH_TYPE usStackDepth,
    void *pvParameters,
    UBaseType_t uxPriority,
    TaskHandle_t *pxCreatedTask
    );
```
- `pvTaskCode ğŸ§©`: HÃ m thá»±c thi (void task(void* arg)).
- `pcName ğŸ·ï¸`: TÃªn task.
- `usStackDepth ğŸ“`: KÃ­ch thÆ°á»›c stack (word, khÃ´ng pháº£i byte). vá»›i stm32 1 word 4 byte.
- `pvParameters ğŸ“¦`: Tham sá»‘ truyá»n vÃ o.
- `uxPriority ğŸšï¸`: Äá»™ Æ°u tiÃªn.
- `pxCreatedTask ğŸªª`: Handle lÆ°u láº¡i Ä‘á»ƒ quáº£n.

![alt text](/assets/RTOS/task.png)

## ğŸ¦Š Tráº¡ng thÃ¡i cá»§a task

- `Ready :` Chá» 1 task khÃ¡c cÃ³ máº­t Ä‘á»™ Æ°u tiÃªn cao hÆ¡n hoáº·c báº±ng Ä‘ang running.
- `Running :` Chiáº¿m tÃ i nguyÃªn CPU vÃ  thá»±c hiá»‡n cÃ¢u lá»‡nh cá»§a nÃ³.
- `Blocked :` Task Ä‘ang chá» sá»± kiá»‡n nÃ o Ä‘Ã³ hoáº·c task Ä‘ang delay.
- `Suspended :` Tráº¡ng thÃ¡i nÃ y cÅ©ng giá»‘ng nhÆ° block nhÆ°ng nÃ³ dÃ¹ng lá»‡nh náº¿u muá»‘n Ä‘Æ°a task vÃ o tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng thÃ¬ `vTaskResume()`.

![alt text](/assets/RTOS/task_state.png)

## ğŸ¨ Task properties

- Má»—i task sáº½ Ä‘Æ°á»£c gÃ¡n:
- Má»™t má»©c Æ°u tiÃªn (priority).
- Má»™t cÃ¡i tÃªn (name).
- KÃ­ch thÆ°á»›c ngÄƒn xáº¿p (Size).
- Tham sá»‘ truyá»n vÃ o (parameter).
- Má»™t con trá» Ä‘áº¡i diá»‡n (xTaskHandle) hiá»ƒu nhÆ° ID.



